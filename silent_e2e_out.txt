
> authentication-service@1.0.0 test:e2e E:\NodeJS\PBAC_Auth\authentication-service
> cross-env SHARED_SECRET=test-shared-secret-e2e REDIS_URL=redis://192.168.2.252:6379 USE_REDIS_BLACKLIST=true AUTH_RATE_LIMIT_MAX=1000 jest --config jest.e2e.config.js --testPathPattern=tests/e2e "--" "--silent"

FAIL tests/e2e/auth.comprehensive.e2e.test.ts (21.884 s)
  ΓùÅ Console

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [WinstonLogger] Logger initialized with level "error" in "test" environment.

      at WinstonLogger.initializeLogger (src/infrastructure/logging/WinstonLogger.ts:85:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs ValidationError: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] attributes.name: Name can only contain letters, numbers, spaces, and common punctuation ValidationError: attributes.name: Name can only contain letters, numbers, spaces, and common punctuation
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: attributes.name: Name can only contain letters, numbers, spaces, and common punctuation, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      Response Status for XSS test: 400

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:130:17)

    console.log
      Response Body for XSS test: {
        status: 'error',
        name: 'ValidationError',
        message: 'attributes.name: Name can only contain letters, numbers, spaces, and common punctuation'
      }

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:131:17)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username cannot exceed 100 characters ValidationError: username: Username cannot exceed 100 characters
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username cannot exceed 100 characters, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] password: Password must contain uppercase, lowercase, number, and special character ValidationError: password: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: password: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] password: Password must contain uppercase, lowercase, number, and special character ValidationError: password: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: password: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] attributes.email: Email attribute is required ValidationError: attributes.email: Email attribute is required
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: attributes.email: Email attribute is required, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty ValidationError: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty ValidationError: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs ValidationError: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] session: Session seems too short ValidationError: session: Session seems too short
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:57:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:132:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:57:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: session: Session seems too short, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] challengeName: Invalid enum value. Expected 'SMS_MFA' | 'SOFTWARE_TOKEN_MFA' | 'DEVICE_PASSWORD_VERIFIER', received 'INVALID_CHALLENGE' ValidationError: challengeName: Invalid enum value. Expected 'SMS_MFA' | 'SOFTWARE_TOKEN_MFA' | 'DEVICE_PASSWORD_VERIFIER', received 'INVALID_CHALLENGE'
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:57:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:132:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:57:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: challengeName: Invalid enum value. Expected 'SMS_MFA' | 'SOFTWARE_TOKEN_MFA' | 'DEVICE_PASSWORD_VERIFIER', received 'INVALID_CHALLENGE', Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] code: Code must be numeric ValidationError: code: Code must be numeric
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:57:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:132:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:57:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: code: Code must be numeric, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: nonexistent@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] MockCognitoAdapter: initiateForgotPassword - User nonexistent@example.com not found. Returning undefined to prevent enumeration.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username/email cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, @ and + ValidationError: username: Username/email cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, @ and +
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username/email cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, @ and +, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username or email is required ValidationError: username: Username or email is required
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username or email is required, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username is too long ValidationError: username: Username is too long
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username is too long, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: test+user@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] MockCognitoAdapter: initiateForgotPassword - User test+user@example.com not found. Returning undefined to prevent enumeration.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: test.user@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] MockCognitoAdapter: initiateForgotPassword - User test.user@example.com not found. Returning undefined to prevent enumeration.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: test-user@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] MockCognitoAdapter: initiateForgotPassword - User test-user@example.com not found. Returning undefined to prevent enumeration.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: test_user@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] MockCognitoAdapter: initiateForgotPassword - User test_user@example.com not found. Returning undefined to prevent enumeration.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] newPassword: Password must be at least 8 characters long; newPassword: Password must contain uppercase, lowercase, number, and special character ValidationError: newPassword: Password must be at least 8 characters long; newPassword: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: newPassword: Password must be at least 8 characters long; newPassword: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] confirmationCode: Confirmation code must be exactly 6 digits; confirmationCode: Confirmation code must be numeric ValidationError: confirmationCode: Confirmation code must be exactly 6 digits; confirmationCode: Confirmation code must be numeric
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: confirmationCode: Confirmation code must be exactly 6 digits; confirmationCode: Confirmation code must be numeric, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] newPassword: Password must contain uppercase, lowercase, number, and special character ValidationError: newPassword: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: newPassword: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] newPassword: Password cannot exceed 128 characters ValidationError: newPassword: Password cannot exceed 128 characters
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: newPassword: Password cannot exceed 128 characters, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmForgotPassword called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmForgotPassword - User exists: true, Stored code exists: true, Forgot password request exists: true

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Password successfully reset for testuser@example.com. Cleaned up codes and requests.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:20 [error]: Login failed for user testuser@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: initiateForgotPassword called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Forgot password request initiated for testuser@example.com. Code set. Current forgotPasswordRequests: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:20 [error]: Login failed for user testuser@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:20 [error]: Login failed for user testuser@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:20 [error]: Login failed for user testuser@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:20 [error]: Login failed for user testuser@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:20 [error]: Login failed for user testuser@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser0@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser0@example.com added to internal map. Current users: testuser@example.com,testuser0@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser0@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser1@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser1@example.com added to internal map. Current users: testuser@example.com,testuser0@example.com,testuser1@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser1@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser2@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser2@example.com added to internal map. Current users: testuser@example.com,testuser0@example.com,testuser1@example.com,testuser2@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser2@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:21 [error]: Failed to check Redis blacklist for token invalid-token-format, falling back to in-memory
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.redisClient.connect is not a function",
          "stack": "TypeError: this.redisClient.connect is not a function\n    at TokenBlacklistService.isBlacklisted (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\TokenBlacklistService.ts:113:44)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:144:50)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:48\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:295:15\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at router (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at router (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at requestMetricsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\requestMetrics.middleware.ts:26:3)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:147:12)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at urlencodedParser (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\body-parser@2.2.0\\node_modules\\body-parser\\lib\\types\\urlencoded.js:68:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at jsonParser (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\body-parser@2.2.0\\node_modules\\body-parser\\lib\\types\\json.js:100:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\app.ts:88:9\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at cors (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:188:7)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:214:15)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:531:6)\n    at xXssProtectionMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:311:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xPoweredByMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:304:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:297:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xFrameOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:281:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xDownloadOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:261:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:254:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:246:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at strictTransportSecurityMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:239:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at referrerPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:207:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at originAgentClusterMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:182:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:175:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:159:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:124:4)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at helmetMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:533:6)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express@5.1.0\\node_modules\\express\\lib\\application.js:177:15)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 17:30:21 [error]: Get user info failed: Invalid access token
      Metadata: {
        "error": {
          "name": "AuthenticationError",
          "message": "Invalid access token",
          "stack": "AuthenticationError: Invalid access token\n    at MockCognitoAdapter.getUserFromToken (E:\\NodeJS\\PBAC_Auth\\authentication-service\\tests\\e2e\\setup\\mockCognitoAdapter.ts:149:13)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:148:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:30"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 17:30:21 [error]: Authentication failed in authGuardMiddleware
      Metadata: {
        "error": {
          "error": {
            "name": "AuthenticationError",
            "statusCode": 401,
            "isOperational": true
          }
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Invalid token AuthenticationError: Invalid token
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:30:18
          at processTicksAndRejections (node:internal/process/task_queues:105:5) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:30:13

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Invalid token, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:21 [error]: Failed to check Redis blacklist for token token-with-script, falling back to in-memory
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.redisClient.connect is not a function",
          "stack": "TypeError: this.redisClient.connect is not a function\n    at TokenBlacklistService.isBlacklisted (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\TokenBlacklistService.ts:113:44)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:144:50)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:48\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:295:15\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at router (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at router (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at requestMetricsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\requestMetrics.middleware.ts:26:3)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:147:12)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at urlencodedParser (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\body-parser@2.2.0\\node_modules\\body-parser\\lib\\types\\urlencoded.js:68:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at jsonParser (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\body-parser@2.2.0\\node_modules\\body-parser\\lib\\types\\json.js:100:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\app.ts:88:9\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at cors (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:188:7)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:214:15)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:531:6)\n    at xXssProtectionMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:311:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xPoweredByMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:304:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:297:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xFrameOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:281:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xDownloadOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:261:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:254:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:246:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at strictTransportSecurityMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:239:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at referrerPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:207:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at originAgentClusterMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:182:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:175:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:159:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:124:4)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at helmetMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:533:6)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express@5.1.0\\node_modules\\express\\lib\\application.js:177:15)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 17:30:21 [error]: Get user info failed: Invalid access token
      Metadata: {
        "error": {
          "name": "AuthenticationError",
          "message": "Invalid access token",
          "stack": "AuthenticationError: Invalid access token\n    at MockCognitoAdapter.getUserFromToken (E:\\NodeJS\\PBAC_Auth\\authentication-service\\tests\\e2e\\setup\\mockCognitoAdapter.ts:149:13)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:148:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:30"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 17:30:21 [error]: Authentication failed in authGuardMiddleware
      Metadata: {
        "error": {
          "error": {
            "name": "AuthenticationError",
            "statusCode": 401,
            "isOperational": true
          }
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Invalid token AuthenticationError: Invalid token
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:30:18
          at processTicksAndRejections (node:internal/process/task_queues:105:5) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:30:13

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Invalid token, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:21 [error]: Failed to check Redis blacklist for token token-with-quotes, falling back to in-memory
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.redisClient.connect is not a function",
          "stack": "TypeError: this.redisClient.connect is not a function\n    at TokenBlacklistService.isBlacklisted (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\TokenBlacklistService.ts:113:44)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:144:50)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:48\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:295:15\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at router (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at router (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:60:12)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at requestMetricsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\requestMetrics.middleware.ts:26:3)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:147:12)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at urlencodedParser (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\body-parser@2.2.0\\node_modules\\body-parser\\lib\\types\\urlencoded.js:68:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at jsonParser (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\body-parser@2.2.0\\node_modules\\body-parser\\lib\\types\\json.js:100:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\app.ts:88:9\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at cors (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:188:7)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:224:17\n    at originCallback (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:214:15)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:219:13\n    at optionsCallback (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:199:9)\n    at corsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\cors@2.8.5\\node_modules\\cors\\lib\\index.js:204:7)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:531:6)\n    at xXssProtectionMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:311:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xPoweredByMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:304:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xPermittedCrossDomainPoliciesMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:297:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xFrameOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:281:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xDownloadOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:261:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xDnsPrefetchControlMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:254:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at xContentTypeOptionsMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:246:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at strictTransportSecurityMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:239:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at referrerPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:207:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at originAgentClusterMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:182:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at crossOriginResourcePolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:175:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at crossOriginOpenerPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:159:3)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at contentSecurityPolicyMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:124:4)\n    at internalNext (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:529:6)\n    at helmetMiddleware (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\helmet@8.1.0\\node_modules\\helmet\\index.cjs:533:6)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at trimPrefix (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:342:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:297:9\n    at processParams (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:582:12)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:291:5)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\index.js:186:3)\n    at Function.handle (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express@5.1.0\\node_modules\\express\\lib\\application.js:177:15)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 17:30:21 [error]: Get user info failed: Invalid access token
      Metadata: {
        "error": {
          "name": "AuthenticationError",
          "message": "Invalid access token",
          "stack": "AuthenticationError: Invalid access token\n    at MockCognitoAdapter.getUserFromToken (E:\\NodeJS\\PBAC_Auth\\authentication-service\\tests\\e2e\\setup\\mockCognitoAdapter.ts:149:13)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:148:54)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:30"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 17:30:21 [error]: Authentication failed in authGuardMiddleware
      Metadata: {
        "error": {
          "error": {
            "name": "AuthenticationError",
            "statusCode": 401,
            "isOperational": true
          }
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Invalid token AuthenticationError: Invalid token
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:30:18
          at processTicksAndRejections (node:internal/process/task_queues:105:5) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:30:13

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Invalid token, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Invalid JSON in request body ValidationError: Invalid JSON in request body
          at verify (E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:97:23)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:106:9
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        expose: true,
        status: 400,
        body: <Buffer 7b 22 69 6e 76 61 6c 69 64 22 3a 20 6a 73 6f 6e 7d>,
        type: 'entity.verify.failed'
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:108:9
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid JSON in request body, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true,"expose":true,"status":400,"body":{"type":"Buffer","data":[123,34,105,110,118,97,108,105,100,34,58,32,106,115,111,110,125]},"type":"entity.verify.failed"}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Content-Type must be application/json ValidationError: Content-Type must be application/json
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:84:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28)
          at parserOnIncoming (node:_http_server:1184:12)
          at HTTPParser.parserOnHeadersComplete (node:_http_common:122:17) {
        statusCode: 400,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:84:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:182:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:175:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:159:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:124:4)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at Function.handle (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/application.js:177:15)
      at Server.app (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/express.js:38:9)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Content-Type must be application/json, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] attributes.name: Name cannot exceed 100 characters ValidationError: attributes.name: Name cannot exceed 100 characters
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: attributes.name: Name cannot exceed 100 characters, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Invalid auth request: PUT /api/auth/login ValidationError: Invalid auth request: PUT /api/auth/login
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:143:18
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          ... collapsed 7 duplicate lines matching above lines ...
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:77:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:109:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6) {
        statusCode: 400,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:143:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:77:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:109:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid auth request: PUT /api/auth/login, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Invalid auth request: DELETE /api/auth/login ValidationError: Invalid auth request: DELETE /api/auth/login
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:143:18
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          ... collapsed 7 duplicate lines matching above lines ...
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6) {
        statusCode: 400,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:143:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid auth request: DELETE /api/auth/login, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Invalid auth request: PATCH /api/auth/login ValidationError: Invalid auth request: PATCH /api/auth/login
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:143:18
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          ... collapsed 7 duplicate lines matching above lines ...
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:77:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:109:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6) {
        statusCode: 400,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:143:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:77:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:109:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid auth request: PATCH /api/auth/login, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Content-Type must be application/json ValidationError: Content-Type must be application/json
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:84:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28)
          at parserOnIncoming (node:_http_server:1184:12)
          at HTTPParser.parserOnHeadersComplete (node:_http_common:122:17) {
        statusCode: 400,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:84:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:182:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:175:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:159:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:124:4)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at Function.handle (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/application.js:177:15)
      at Server.app (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/express.js:38:9)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Content-Type must be application/json, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] Invalid JSON in request body ValidationError: Invalid JSON in request body
          at verify (E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:97:23)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:106:9
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        expose: true,
        status: 400,
        body: <Buffer >,
        type: 'entity.verify.failed'
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:108:9
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid JSON in request body, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true,"expose":true,"status":400,"body":{"type":"Buffer","data":[]},"type":"entity.verify.failed"}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: concurrent0@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User concurrent0@example.com added to internal map. Current users: testuser@example.com,concurrent0@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for concurrent0@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: concurrent1@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User concurrent1@example.com added to internal map. Current users: testuser@example.com,concurrent0@example.com,concurrent1@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for concurrent1@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: concurrent2@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User concurrent2@example.com added to internal map. Current users: testuser@example.com,concurrent0@example.com,concurrent1@example.com,concurrent2@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for concurrent2@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: concurrent3@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User concurrent3@example.com added to internal map. Current users: testuser@example.com,concurrent0@example.com,concurrent1@example.com,concurrent2@example.com,concurrent3@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for concurrent3@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: concurrent4@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User concurrent4@example.com added to internal map. Current users: testuser@example.com,concurrent0@example.com,concurrent1@example.com,concurrent2@example.com,concurrent3@example.com,concurrent4@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for concurrent4@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.error
      [ERROR] username: Username is required; password: Password is required ValidationError: username: Username is required; password: Password is required
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username is required; password: Password is required, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.warn
      [WARN] MockCognitoAdapter: signUp failed, username already exists: testuser@example.com

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at MockCognitoAdapter.signUp (tests/e2e/setup/mockCognitoAdapter.ts:37:19)
      at AuthService.signUp (src/application/services/auth.service.ts:168:52)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:47:51)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at src/api/middlewares/validation.middleware.ts:41:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      2026-02-25 17:30:24 [error]: Signup failed for testuser@example.com: Username already exists
      Metadata: {
        "error": {
          "name": "ValidationError",
          "message": "Username already exists",
          "stack": "ValidationError: Username already exists\n    at MockCognitoAdapter.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\tests\\e2e\\setup\\mockCognitoAdapter.ts:38:13)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:52)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Username already exists ValidationError: Username already exists
          at MockCognitoAdapter.signUp (E:\NodeJS\PBAC_Auth\authentication-service\tests\e2e\setup\mockCognitoAdapter.ts:38:13)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:52)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Username already exists, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 999999

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: true

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.warn
      [WARN] MockCognitoAdapter: confirmSignUp failed, invalid code for testuser@example.com. Expected: undefined, Received: 999999

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at MockCognitoAdapter.confirmSignUp (tests/e2e/setup/mockCognitoAdapter.ts:72:19)
      at AuthService.confirmSignUp (src/application/services/auth.service.ts:187:37)
      at AuthController.confirmSignUp (src/api/controllers/auth.controller.ts:54:36)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at src/api/middlewares/validation.middleware.ts:41:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.log
      2026-02-25 17:30:24 [error]: Signup confirmation failed for testuser@example.com: Invalid verification code
      Metadata: {
        "error": {
          "name": "ValidationError",
          "message": "Invalid verification code",
          "stack": "ValidationError: Invalid verification code\n    at MockCognitoAdapter.confirmSignUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\tests\\e2e\\setup\\mockCognitoAdapter.ts:73:13)\n    at AuthService.confirmSignUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:187:37)\n    at AuthController.confirmSignUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:54:36)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Confirmation failed: Invalid verification code AuthenticationError: Confirmation failed: Invalid verification code
          at AuthService.confirmSignUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:204:19)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthController.confirmSignUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:54:13) {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.confirmSignUp (src/api/controllers/auth.controller.ts:56:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Confirmation failed: Invalid verification code, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:24 [error]: Login failed for user test+user@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:24 [error]: Login failed for user test.user@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.log
      2026-02-25 17:30:24 [error]: Login failed for user testuser@example.com: this.authStrategy.login is not a function
      Metadata: {
        "error": {
          "name": "TypeError",
          "message": "this.authStrategy.login is not a function",
          "stack": "TypeError: this.authStrategy.login is not a function\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:52)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:51)\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\validation.middleware.ts:41:13\n    at Layer.handleRequest (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\router@2.2.0\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:942:7\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\node_modules\\.pnpm\\express-rate-limit@8.2.1_express@5.1.0\\node_modules\\express-rate-limit\\dist\\index.cjs:825:5"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Login failed: this.authStrategy.login is not a function AuthenticationError: Login failed: this.authStrategy.login is not a function
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:50:23)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:51)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:41:13
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 401,
        isOperational: true
      }

      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
      14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
    > 15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
         |                                                          ^
      16 | }
      17 |
      18 | const globalMockLogger = new MockLogger();

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:15:58)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Login failed: this.authStrategy.login is not a function, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      12 |   debug(message: string, ...args: any[]): void { console.debug(`[DEBUG] ${message}`, ...args); }
      13 |   info(message: string, ...args: any[]): void { console.info(`[INFO] ${message}`, ...args); }
    > 14 |   warn(message: string, ...args: any[]): void { console.warn(`[WARN] ${message}`, ...args); }
         |                                                         ^
      15 |   error(message: string, ...args: any[]): void { console.error(`[ERROR] ${message}`, ...args); }
      16 | }
      17 |

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:14:57)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:12:58)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:13:57)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Advanced Validation Tests ΓÇ║ Password Reset Flow Tests ΓÇ║ End-to-End Password Reset Flow ΓÇ║ should complete the full password reset flow successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 401

      497 |             });
      498 |
    > 499 |           expect(loginResponse.status).toBe(200);
          |                                        ^
      500 |           expect(loginResponse.body).toHaveProperty('accessToken');
      501 |           expect(loginResponse.body).toHaveProperty('tokenType', 'Bearer');
      502 |         });

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:499:40)

PASS tests/e2e/test-route.e2e.test.ts
  ΓùÅ Console

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [WinstonLogger] Logger initialized with level "error" in "test" environment.

      at WinstonLogger.initializeLogger (src/infrastructure/logging/WinstonLogger.ts:85:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/test-route.e2e.test.ts:20:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.info
      [WinstonLogger] Logger initialized with level "error" in "test" environment.

      at WinstonLogger.initializeLogger (src/infrastructure/logging/WinstonLogger.ts:85:17)

PASS tests/e2e/env-verification.e2e.test.ts
  ΓùÅ Console

    console.log
      SHARED_SECRET: test-shared-secret-e2e

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:11:13)

    console.log
      REDIS_URL: redis://192.168.2.252:6379

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:19:13)

    console.log
      USE_REDIS_BLACKLIST: true

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:25:13)

    console.log
      E2E test environment variables:

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:29:13)

    console.log
      SHARED_SECRET: test-shared-secret-e2e

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:30:13)

    console.log
      REDIS_URL: redis://192.168.2.252:6379

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:31:13)

    console.log
      USE_REDIS_BLACKLIST: true

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:32:13)

    console.log
      NODE_ENV: test

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:33:13)


Test Suites: 1 failed, 2 passed, 3 total
Tests:       1 failed, 52 passed, 53 total
Snapshots:   0 total
Time:        25.248 s, estimated 28 s
Ran all test suites matching /--silent|tests\\e2e/i.
ΓÇëELIFECYCLEΓÇë Command failed with exit code 1.
