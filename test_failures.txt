
> authentication-service@1.0.0 test:e2e E:\NodeJS\PBAC_Auth\authentication-service
> cross-env SHARED_SECRET=test-shared-secret-e2e REDIS_URL=redis://192.168.2.252:6379 USE_REDIS_BLACKLIST=true AUTH_RATE_LIMIT_MAX=1000 jest --config jest.e2e.config.js --testPathPattern=tests/e2e "--" "--testFailureExitCode" "0"

FAIL tests/e2e/auth.comprehensive.e2e.test.ts (27.226 s)
  ΓùÅ Console

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [WinstonLogger] Logger initialized with level "error" in "test" environment.

      at WinstonLogger.initializeLogger (src/infrastructure/logging/WinstonLogger.ts:85:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs ValidationError: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] attributes.name: Name can only contain letters, numbers, spaces, and common punctuation ValidationError: attributes.name: Name can only contain letters, numbers, spaces, and common punctuation
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: attributes.name: Name can only contain letters, numbers, spaces, and common punctuation, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      Response Status for XSS test: 400

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:130:17)

    console.log
      Response Body for XSS test: {
        status: 'error',
        name: 'ValidationError',
        message: 'attributes.name: Name can only contain letters, numbers, spaces, and common punctuation'
      }

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:131:17)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username cannot exceed 100 characters ValidationError: username: Username cannot exceed 100 characters
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username cannot exceed 100 characters, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] password: Password must contain uppercase, lowercase, number, and special character ValidationError: password: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: password: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] password: Password must contain uppercase, lowercase, number, and special character ValidationError: password: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: password: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] attributes.email: Email attribute is required ValidationError: attributes.email: Email attribute is required
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: attributes.email: Email attribute is required, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty ValidationError: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty ValidationError: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs; password: Password cannot be empty, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs ValidationError: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username can only contain letters, numbers, underscores, hyphens, periods, and at signs, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] session: Session seems too short ValidationError: session: Session seems too short
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:57:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:132:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:57:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: session: Session seems too short, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] challengeName: Invalid enum value. Expected 'SMS_MFA' | 'SOFTWARE_TOKEN_MFA' | 'DEVICE_PASSWORD_VERIFIER', received 'INVALID_CHALLENGE' ValidationError: challengeName: Invalid enum value. Expected 'SMS_MFA' | 'SOFTWARE_TOKEN_MFA' | 'DEVICE_PASSWORD_VERIFIER', received 'INVALID_CHALLENGE'
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:57:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:132:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:57:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: challengeName: Invalid enum value. Expected 'SMS_MFA' | 'SOFTWARE_TOKEN_MFA' | 'DEVICE_PASSWORD_VERIFIER', received 'INVALID_CHALLENGE', Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] code: Code must be numeric ValidationError: code: Code must be numeric
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:57:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:132:5
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:57:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:132:5
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: code: Code must be numeric, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:42 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:42 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:42 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:43 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:43 [error]: Initiate forgot password failed for nonexistent@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:43 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username/email cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, @ and + ValidationError: username: Username/email cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, @ and +
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username/email cannot be empty; username: Username can only contain letters, numbers, underscores, hyphens, periods, @ and +, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username or email is required ValidationError: username: Username or email is required
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username or email is required, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username is too long ValidationError: username: Username is too long
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username is too long, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:43 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:43 [error]: Initiate forgot password failed for test+user@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:43 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Initiate forgot password failed for test.user@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Initiate forgot password failed for test-user@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Initiate forgot password failed for test_user@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:44 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:45 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:45 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:45 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] newPassword: Password must be at least 8 characters long; newPassword: Password must contain uppercase, lowercase, number, and special character ValidationError: newPassword: Password must be at least 8 characters long; newPassword: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: newPassword: Password must be at least 8 characters long; newPassword: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:45 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:45 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:45 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] confirmationCode: Confirmation code must be exactly 6 digits; confirmationCode: Confirmation code must be numeric ValidationError: confirmationCode: Confirmation code must be exactly 6 digits; confirmationCode: Confirmation code must be numeric
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: confirmationCode: Confirmation code must be exactly 6 digits; confirmationCode: Confirmation code must be numeric, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:46 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:46 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:46 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] newPassword: Password must contain uppercase, lowercase, number, and special character ValidationError: newPassword: Password must contain uppercase, lowercase, number, and special character
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: newPassword: Password must contain uppercase, lowercase, number, and special character, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:46 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:46 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:46 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] newPassword: Password cannot exceed 128 characters ValidationError: newPassword: Password cannot exceed 128 characters
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: newPassword: Password cannot exceed 128 characters, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:46 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:46 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:46 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:47 [error]: Confirm forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:47 [error]: Error during confirmForgotPassword for user testuser@example.com:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.confirmForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:186:67)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.confirmForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:266:13)\n    at AuthController.resetPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:127:13)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Username/client id combination not found. BaseError [IdPError]: Username/client id combination not found.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.confirmForgotPassword (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:186:67)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.confirmForgotPassword (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:266:13)
          at AuthController.resetPassword (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:127:13) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.resetPassword (src/api/controllers/auth.controller.ts:134:13)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: Username/client id combination not found., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:47 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:47 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:47 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Initiate forgot password failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Forgot password internal error:
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:179:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.initiateForgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:246:37)\n    at AuthController.forgotPassword (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:97:37)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:48 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Login failed for user testuser@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:48 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Login failed for user testuser@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:48 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Login failed for user testuser@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:48 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Login failed for user testuser@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:48 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:48 [error]: Login failed for user testuser@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:49 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:49 [error]: Signup failed for testuser0@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:49 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:49 [error]: Signup failed for testuser2@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:49 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:49 [error]: Signup failed for testuser1@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:49 [error]: Get user failed: Invalid Access Token

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:49 [error]: Get user info failed: Invalid Access Token
      Metadata: {
        "error": {
          "name": "AuthenticationError",
          "message": "Invalid Access Token",
          "stack": "AuthenticationError: Invalid Access Token\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:213:23)\n    at CognitoAuthStrategy.getUserFromToken (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:140:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:148:30)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:30"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:49 [error]: Authentication failed in authGuardMiddleware
      Metadata: {
        "error": {
          "error": {
            "name": "AuthenticationError",
            "statusCode": 401,
            "isOperational": true
          }
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Invalid token AuthenticationError: Invalid token
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:30:18
          at processTicksAndRejections (node:internal/process/task_queues:105:5) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:30:13

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Invalid token, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Authorization header missing or invalid AuthenticationError: Authorization header missing or invalid
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:16:25
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at Route.dispatch (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:117:3)
          at handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:435:11)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:295:15
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          ... collapsed 7 duplicate lines matching above lines ...
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:16:20
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at Route.dispatch (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:117:3)
      at handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:435:11)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:295:15
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Authorization header missing or invalid, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:50 [error]: Get user failed: Invalid Access Token

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:50 [error]: Get user info failed: Invalid Access Token
      Metadata: {
        "error": {
          "name": "AuthenticationError",
          "message": "Invalid Access Token",
          "stack": "AuthenticationError: Invalid Access Token\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:213:23)\n    at CognitoAuthStrategy.getUserFromToken (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:140:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:148:30)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:30"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:50 [error]: Authentication failed in authGuardMiddleware
      Metadata: {
        "error": {
          "error": {
            "name": "AuthenticationError",
            "statusCode": 401,
            "isOperational": true
          }
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Invalid token AuthenticationError: Invalid token
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:30:18
          at processTicksAndRejections (node:internal/process/task_queues:105:5) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:30:13

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Invalid token, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:50 [error]: Get user failed: Invalid Access Token

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:50 [error]: Get user info failed: Invalid Access Token
      Metadata: {
        "error": {
          "name": "AuthenticationError",
          "message": "Invalid Access Token",
          "stack": "AuthenticationError: Invalid Access Token\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:213:23)\n    at CognitoAuthStrategy.getUserFromToken (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:140:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.getUserInfo (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:148:30)\n    at E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\middlewares\\auth.guard.middleware.ts:25:30"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:50 [error]: Authentication failed in authGuardMiddleware
      Metadata: {
        "error": {
          "error": {
            "name": "AuthenticationError",
            "statusCode": 401,
            "isOperational": true
          }
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Invalid token AuthenticationError: Invalid token
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\auth.guard.middleware.ts:30:18
          at processTicksAndRejections (node:internal/process/task_queues:105:5) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/auth.guard.middleware.ts:30:13

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Invalid token, Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Invalid JSON in request body ValidationError: Invalid JSON in request body
          at verify (E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:97:23)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:106:9
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        expose: true,
        status: 400,
        body: <Buffer 7b 22 69 6e 76 61 6c 69 64 22 3a 20 6a 73 6f 6e 7d>,
        type: 'entity.verify.failed'
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:108:9
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid JSON in request body, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true,"expose":true,"status":400,"body":{"type":"Buffer","data":[123,34,105,110,118,97,108,105,100,34,58,32,106,115,111,110,125]},"type":"entity.verify.failed"}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Content-Type must be application/json ValidationError: Content-Type must be application/json
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:84:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28)
          at parserOnIncoming (node:_http_server:1184:12)
          at HTTPParser.parserOnHeadersComplete (node:_http_common:122:17) {
        statusCode: 400,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:84:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:182:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:175:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:159:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:124:4)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at Function.handle (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/application.js:177:15)
      at Server.app (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/express.js:38:9)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Content-Type must be application/json, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] attributes.name: Name cannot exceed 100 characters ValidationError: attributes.name: Name cannot exceed 100 characters
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: attributes.name: Name cannot exceed 100 characters, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Invalid auth request: PUT /api/auth/login ValidationError: Invalid auth request: PUT /api/auth/login
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:143:18
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          ... collapsed 7 duplicate lines matching above lines ...
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:77:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:109:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6) {
        statusCode: 400,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:143:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:77:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:109:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid auth request: PUT /api/auth/login, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Invalid auth request: DELETE /api/auth/login ValidationError: Invalid auth request: DELETE /api/auth/login
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:143:18
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          ... collapsed 7 duplicate lines matching above lines ...
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:68:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:100:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6) {
        statusCode: 400,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:143:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:68:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:100:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid auth request: DELETE /api/auth/login, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Invalid auth request: PATCH /api/auth/login ValidationError: Invalid auth request: PATCH /api/auth/login
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:143:18
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:688:15
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:276:14)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at router (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:60:12)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          ... collapsed 7 duplicate lines matching above lines ...
          at requestMetricsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\requestMetrics.middleware.ts:26:3)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:147:12)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at urlencodedParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\urlencoded.js:77:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at jsonParser (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\types\json.js:109:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:88:9
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6) {
        statusCode: 400,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:143:13
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at router (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:60:12)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at requestMetricsMiddleware (src/api/middlewares/requestMetrics.middleware.ts:26:3)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:147:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at urlencodedParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/urlencoded.js:77:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at jsonParser (node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/types/json.js:109:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:88:9
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid auth request: PATCH /api/auth/login, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Content-Type must be application/json ValidationError: Content-Type must be application/json
          at E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:84:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at cors (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:188:7)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:224:17
          at originCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:214:15)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:219:13
          at optionsCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:199:9)
          at corsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\cors@2.8.5\node_modules\cors\lib\index.js:204:7)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:531:6)
          at xXssProtectionMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:311:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPoweredByMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:304:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xPermittedCrossDomainPoliciesMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:297:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xFrameOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:281:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDownloadOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:261:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xDnsPrefetchControlMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:254:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at xContentTypeOptionsMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:246:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at strictTransportSecurityMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:239:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at referrerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:207:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at originAgentClusterMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:182:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginResourcePolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:175:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at crossOriginOpenerPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:159:3)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at contentSecurityPolicyMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:124:4)
          at internalNext (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:529:6)
          at helmetMiddleware (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\helmet@8.1.0\node_modules\helmet\index.cjs:533:6)
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at trimPrefix (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:342:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:297:9
          at processParams (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:582:12)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:291:5)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\index.js:186:3)
          at Function.handle (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\application.js:177:15)
          at Server.app (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express@5.1.0\node_modules\express\lib\express.js:38:9)
          at Server.emit (node:events:519:28)
          at parserOnIncoming (node:_http_server:1184:12)
          at HTTPParser.parserOnHeadersComplete (node:_http_common:122:17) {
        statusCode: 400,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at src/app.ts:84:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at cors (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:188:7)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:224:17
      at originCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:214:15)
      at node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:219:13
      at optionsCallback (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:199:9)
      at corsMiddleware (node_modules/.pnpm/cors@2.8.5/node_modules/cors/lib/index.js:204:7)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:531:6)
      at xXssProtectionMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:311:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPoweredByMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:304:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xPermittedCrossDomainPoliciesMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:297:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xFrameOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:281:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDownloadOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:261:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xDnsPrefetchControlMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:254:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at xContentTypeOptionsMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:246:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at strictTransportSecurityMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:239:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at referrerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:207:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at originAgentClusterMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:182:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginResourcePolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:175:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at crossOriginOpenerPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:159:3)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at contentSecurityPolicyMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:124:4)
      at internalNext (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:529:6)
      at helmetMiddleware (node_modules/.pnpm/helmet@8.1.0/node_modules/helmet/index.cjs:533:6)
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:342:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Function.handle (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:186:3)
      at Function.handle (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/application.js:177:15)
      at Server.app (node_modules/.pnpm/express@5.1.0/node_modules/express/lib/express.js:38:9)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Content-Type must be application/json, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] Invalid JSON in request body ValidationError: Invalid JSON in request body
          at verify (E:\NodeJS\PBAC_Auth\authentication-service\src\app.ts:97:23)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\body-parser@2.2.0\node_modules\body-parser\lib\read.js:106:9
          at AsyncResource.runInAsyncScope (node:async_hooks:214:14)
          at invokeCallback (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:238:16)
          at done (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:227:7)
          at IncomingMessage.onEnd (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\raw-body@3.0.0\node_modules\raw-body\index.js:287:7)
          at IncomingMessage.emit (node:events:519:28)
          at endReadableNT (node:internal/streams/readable:1698:12)
          at processTicksAndRejections (node:internal/process/task_queues:90:21) {
        statusCode: 400,
        isOperational: true,
        expose: true,
        status: 400,
        body: <Buffer >,
        type: 'entity.verify.failed'
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at bodyParserErrorHandler (src/app.ts:110:13)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/body-parser@2.2.0/node_modules/body-parser/lib/read.js:108:9
      at invokeCallback (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:238:16)
      at done (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:227:7)
      at IncomingMessage.onEnd (node_modules/.pnpm/raw-body@3.0.0/node_modules/raw-body/index.js:287:7)

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: Invalid JSON in request body, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true,"expose":true,"status":400,"body":{"type":"Buffer","data":[]},"type":"entity.verify.failed"}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed for concurrent0@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed for concurrent4@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed for concurrent3@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed for concurrent2@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:52 [error]: Signup failed for concurrent1@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.error
      [ERROR] username: Username is required; password: Password is required ValidationError: username: Username is required; password: Password is required
          at E:\NodeJS\PBAC_Auth\authentication-service\src\api\middlewares\validation.middleware.ts:34:22
          at Layer.handleRequest (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\layer.js:152:17)
          at next (E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\router@2.2.0\node_modules\router\lib\route.js:157:13)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:942:7
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at E:\NodeJS\PBAC_Auth\authentication-service\node_modules\.pnpm\express-rate-limit@8.2.1_express@5.1.0\node_modules\express-rate-limit\dist\index.cjs:825:5 {
        statusCode: 400,
        isOperational: true,
        details: undefined
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:155:13)
      at src/api/middlewares/validation.middleware.ts:34:17
      at Layer.handleRequest (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:152:17)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:157:13)
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:942:7
      at node_modules/.pnpm/express-rate-limit@8.2.1_express@5.1.0/node_modules/express-rate-limit/dist/index.cjs:825:5

    console.debug
      [DEBUG] Error Middleware - Processing error: ValidationError, Message: username: Username is required; password: Password is required, Determined Status Code: 400

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"ValidationError","statusCode":400,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:53 [error]: Signup failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:53 [error]: Signup failed for testuser@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:159:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:168:28)\n    at AuthController.signUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:47:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:159:37)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:168:28)
          at AuthController.signUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:47:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.signUp (src/api/controllers/auth.controller.ts:49:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:53 [error]: Confirm signup failed: Username/client id combination not found.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:53 [error]: Signup confirmation failed for testuser@example.com: Username/client id combination not found.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "Username/client id combination not found.",
          "stack": "IdPError: Username/client id combination not found.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.confirmSignUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:165:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.confirmSignUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:187:13)\n    at AuthController.confirmSignUp (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:54:13)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] Confirmation failed: Username/client id combination not found. AuthenticationError: Confirmation failed: Username/client id combination not found.
          at AuthService.confirmSignUp (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:204:19)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthController.confirmSignUp (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:54:13) {
        statusCode: 401,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.confirmSignUp (src/api/controllers/auth.controller.ts:56:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: AuthenticationError, Message: Confirmation failed: Username/client id combination not found., Determined Status Code: 401

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"AuthenticationError","statusCode":401,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:54 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:54 [error]: Login failed for user test+user@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:54 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:54 [error]: Login failed for user test.user@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.log
      2026-02-25 15:39:54 [error]: Login failed: User pool client testClientId123 does not exist.

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      2026-02-25 15:39:54 [error]: Login failed for user testuser@example.com: User pool client testClientId123 does not exist.
      Metadata: {
        "error": {
          "name": "IdPError",
          "message": "User pool client testClientId123 does not exist.",
          "stack": "IdPError: User pool client testClientId123 does not exist.\n    at CognitoAuthStrategy.handleCognitoError (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:221:23)\n    at CognitoAuthStrategy.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\infrastructure\\adapters\\cognito\\CognitoAuthStrategy.ts:101:18)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at AuthService.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\application\\services\\auth.service.ts:35:28)\n    at AuthController.login (E:\\NodeJS\\PBAC_Auth\\authentication-service\\src\\api\\controllers\\auth.controller.ts:22:28)"
        }
      }

      at Console.log (node_modules/.pnpm/winston@3.17.0/node_modules/winston/lib/winston/transports/console.js:87:23)

    console.error
      [ERROR] User pool client testClientId123 does not exist. BaseError [IdPError]: User pool client testClientId123 does not exist.
          at CognitoAuthStrategy.handleCognitoError (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:221:23)
          at CognitoAuthStrategy.login (E:\NodeJS\PBAC_Auth\authentication-service\src\infrastructure\adapters\cognito\CognitoAuthStrategy.ts:101:18)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at AuthService.login (E:\NodeJS\PBAC_Auth\authentication-service\src\application\services\auth.service.ts:35:28)
          at AuthController.login (E:\NodeJS\PBAC_Auth\authentication-service\src\api\controllers\auth.controller.ts:22:28) {
        statusCode: 500,
        isOperational: true
      }

      30 |   }
      31 |   error(message: string, ...args: any[]): void {
    > 32 |     console.error(`[ERROR] ${message}`, ...args);
         |             ^
      33 |   }
      34 | }
      35 |

      at MockLogger.error (tests/e2e/auth.comprehensive.e2e.test.ts:32:13)
      at src/api/middlewares/error.middleware.ts:34:20
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:116:17)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at Layer.handleError (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/layer.js:111:12)
      at trimPrefix (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:340:13)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:297:9
      at processParams (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:582:12)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:291:5)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:688:15
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/index.js:276:14)
      at next (node_modules/.pnpm/router@2.2.0/node_modules/router/lib/route.js:132:14)
      at AuthController.login (src/api/controllers/auth.controller.ts:24:27)

    console.debug
      [DEBUG] Error Middleware - Processing error: IdPError, Message: User pool client testClientId123 does not exist., Determined Status Code: 500

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] Error Middleware - Error instance: {"name":"IdPError","statusCode":500,"isOperational":true}

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Resetting all internal data (users, codes, tokens, requests).

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.warn
      [WARN] CORS origin set to "*" in non-development environment. This is insecure!

      27 |   }
      28 |   warn(message: string, ...args: any[]): void {
    > 29 |     console.warn(`[WARN] ${message}`, ...args);
         |             ^
      30 |   }
      31 |   error(message: string, ...args: any[]): void {
      32 |     console.error(`[ERROR] ${message}`, ...args);

      at MockLogger.warn (tests/e2e/auth.comprehensive.e2e.test.ts:29:13)
      at createApp (src/app.ts:69:16)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:69:20)

    console.info
      [INFO] CORS configured for origin: *

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Express application configured.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.debug
      [DEBUG] MockCognitoAdapter: signUp called for username: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com added to internal map. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: Confirmation code set for testuser@example.com.

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: confirmSignUp called for username: testuser@example.com, code: 123456

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User found for confirmSignUp: testuser@example.com, confirmed status: false

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.debug
      [DEBUG] MockCognitoAdapter: User testuser@example.com confirmed. Confirmation code deleted. Current users: testuser@example.com

      at MockLogger.debug (tests/e2e/auth.comprehensive.e2e.test.ts:23:13)

    console.info
      [INFO] Shutting down application...

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)

    console.info
      [INFO] Redis client disconnected for token blacklist.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

    console.info
      [INFO] Application shutdown complete.

      at MockLogger.info (tests/e2e/auth.comprehensive.e2e.test.ts:26:13)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Advanced Validation Tests ΓÇ║ Password Reset Flow Tests ΓÇ║ End-to-End Password Reset Flow ΓÇ║ should complete the full password reset flow successfully

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 500

      477 |             });
      478 |
    > 479 |           expect(resetResponse.status).toBe(200);
          |                                        ^
      480 |           expect(resetResponse.body).toHaveProperty('message');
      481 |           expect(resetResponse.body.message).toBe('Password has been reset successfully.');
      482 |

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:479:40)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Security Tests ΓÇ║ Rate Limiting Simulation ΓÇ║ should handle multiple rapid login attempts

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      531 |         // All should fail due to invalid Cognito client ID
      532 |         responses.forEach(response => {
    > 533 |           expect(response.status).toBe(400);
          |                                   ^
      534 |           expect(response.body).toHaveProperty('name', 'ValidationError');
      535 |         });
      536 |       });

      at tests/e2e/auth.comprehensive.e2e.test.ts:533:35
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:532:19)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Security Tests ΓÇ║ Rate Limiting Simulation ΓÇ║ should handle multiple rapid signup attempts

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      554 |         // All should fail due to invalid Cognito client ID
      555 |         responses.forEach(response => {
    > 556 |           expect(response.status).toBe(400);
          |                                   ^
      557 |           expect(response.body).toHaveProperty('name', 'ValidationError');
      558 |         });
      559 |       });

      at tests/e2e/auth.comprehensive.e2e.test.ts:556:35
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:555:19)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Performance and Load Tests ΓÇ║ Concurrent Request Handling ΓÇ║ should handle concurrent validation requests

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      708 |         // All should fail due to invalid Cognito client ID, but should handle concurrency
      709 |         responses.forEach(response => {
    > 710 |           expect(response.status).toBe(400);
          |                                   ^
      711 |           expect(response.body).toHaveProperty('name', 'ValidationError');
      712 |         });
      713 |       });

      at tests/e2e/auth.comprehensive.e2e.test.ts:710:35
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:709:19)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Edge Case Scenarios ΓÇ║ Boundary Value Tests ΓÇ║ should handle minimum valid password length

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      757 |
      758 |         // Should fail due to Cognito client ID, not password validation
    > 759 |         expect(response.status).toBe(400);
          |                                 ^
      760 |         expect(response.body).toHaveProperty('name', 'ValidationError');
      761 |       });
      762 |

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:759:33)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Edge Case Scenarios ΓÇ║ Boundary Value Tests ΓÇ║ should handle maximum valid confirmation code

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 401

      770 |
      771 |         // Should fail due to user not found, not code validation
    > 772 |         expect(response.status).toBe(404);
          |                                 ^
      773 |       });
      774 |     });
      775 |

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:772:33)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Edge Case Scenarios ΓÇ║ Special Character Handling ΓÇ║ should handle usernames with plus signs

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      783 |           });
      784 |
    > 785 |         expect(response.status).toBe(400);
          |                                 ^
      786 |         expect(response.body).toHaveProperty('name', 'ValidationError');
      787 |       });
      788 |

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:785:33)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Edge Case Scenarios ΓÇ║ Special Character Handling ΓÇ║ should handle usernames with dots

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      795 |           });
      796 |
    > 797 |         expect(response.status).toBe(400);
          |                                 ^
      798 |         expect(response.body).toHaveProperty('name', 'ValidationError');
      799 |       });
      800 |

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:797:33)

  ΓùÅ Comprehensive Authentication E2E Tests ΓÇ║ Edge Case Scenarios ΓÇ║ Special Character Handling ΓÇ║ should handle passwords with special characters

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 500

      807 |           });
      808 |
    > 809 |         expect(response.status).toBe(400);
          |                                 ^
      810 |         expect(response.body).toHaveProperty('name', 'ValidationError');
      811 |       });
      812 |     });

      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:809:33)

PASS tests/e2e/test-route.e2e.test.ts
  ΓùÅ Console

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [WinstonLogger] Logger initialized with level "error" in "test" environment.

      at WinstonLogger.initializeLogger (src/infrastructure/logging/WinstonLogger.ts:85:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

    console.info
      [INFO] MockCognitoAdapter initialized.

      at MockLogger.info (tests/e2e/test-route.e2e.test.ts:20:13)

    console.info
      [ConfigService] Reading configuration from process.env (expected to be populated by --env-file)

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:39:17)

    console.debug
      [ConfigService] Configuration loaded from environment variables.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:41:17)

    console.info
      [ConfigService] Required configuration keys verified.

      at new EnvironmentConfigService (src/infrastructure/config/EnvironmentConfigService.ts:48:17)

    console.info
      [WinstonLogger] Logger initialized with level "error" in "test" environment.

      at WinstonLogger.initializeLogger (src/infrastructure/logging/WinstonLogger.ts:85:17)

PASS tests/e2e/env-verification.e2e.test.ts
  ΓùÅ Console

    console.log
      SHARED_SECRET: test-shared-secret-e2e

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:11:13)

    console.log
      REDIS_URL: redis://192.168.2.252:6379

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:19:13)

    console.log
      USE_REDIS_BLACKLIST: true

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:25:13)

    console.log
      E2E test environment variables:

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:29:13)

    console.log
      SHARED_SECRET: test-shared-secret-e2e

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:30:13)

    console.log
      REDIS_URL: redis://192.168.2.252:6379

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:31:13)

    console.log
      USE_REDIS_BLACKLIST: true

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:32:13)

    console.log
      NODE_ENV: test

      at Object.<anonymous> (tests/e2e/env-verification.e2e.test.ts:33:13)


Test Suites: 1 failed, 2 passed, 3 total
Tests:       9 failed, 44 passed, 53 total
Snapshots:   0 total
Time:        30.393 s, estimated 61 s
Ran all test suites matching /--testFailureExitCode|0|tests\\e2e/i.

Jest has detected the following 2 open handles potentially keeping Jest from exiting:

  ΓùÅ  TCPWRAP

      13 |
      14 |         if (this.isRedisEnabled && redisUrl) {
    > 15 |             this.redisClient = new Redis(redisUrl, {
         |                                ^
      16 |                 maxRetriesPerRequest: 1, // Don't hang if Redis is down
      17 |                 enableReadyCheck: false
      18 |             });

      at node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/connectors/StandaloneConnector.js:44:21
      at StandaloneConnector.connect (node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/connectors/StandaloneConnector.js:43:16)
      at node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/Redis.js:122:64
      at EventEmitter.connect (node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/Redis.js:104:25)
      at new Redis (node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/Redis.js:77:18)
      at new RateLimiterFactory (src/api/middleware/RateLimiterFactory.ts:15:32)
      at Object.<anonymous> (src/api/routes/auth.routes.ts:27:28)
      at Object.<anonymous> (src/api/routes/index.ts:3:1)
      at Object.<anonymous> (src/app.ts:7:1)
      at Object.<anonymous> (tests/e2e/auth.comprehensive.e2e.test.ts:7:1)


  ΓùÅ  TCPWRAP

      13 |
      14 |         if (this.isRedisEnabled && redisUrl) {
    > 15 |             this.redisClient = new Redis(redisUrl, {
         |                                ^
      16 |                 maxRetriesPerRequest: 1, // Don't hang if Redis is down
      17 |                 enableReadyCheck: false
      18 |             });

      at node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/connectors/StandaloneConnector.js:44:21
      at StandaloneConnector.connect (node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/connectors/StandaloneConnector.js:43:16)
      at node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/Redis.js:122:64
      at EventEmitter.connect (node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/Redis.js:104:25)
      at new Redis (node_modules/.pnpm/ioredis@5.7.0/node_modules/ioredis/built/Redis.js:77:18)
      at new RateLimiterFactory (src/api/middleware/RateLimiterFactory.ts:15:32)
      at Object.<anonymous> (src/api/routes/auth.routes.ts:27:28)
      at Object.<anonymous> (src/api/routes/index.ts:3:1)
      at Object.<anonymous> (src/app.ts:7:1)
      at Object.<anonymous> (tests/e2e/test-route.e2e.test.ts:8:1)

ΓÇëELIFECYCLEΓÇë Command failed with exit code 1.
